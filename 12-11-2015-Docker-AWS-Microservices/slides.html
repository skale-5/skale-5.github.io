<!DOCTYPE html>
<html>
  <head>
    <title>Docker, AWS et Microservices</title>
    <meta charset="utf-8">
    <style>
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
      img[alt=dockerfs] { width: 500px; }
    </style>
  </head>
  <body>
    <textarea id="source">

class: center, middle

# Docker, AWS et Microservices

![docker.png](https://raw.githubusercontent.com/skale-5/slides/master/12-11-2015-Docker-AWS-Microservices/images/docker.png)

---

# Agenda

1. Introduction
2. Speakers
3. Docker
4. Microservices
5. Demo
6. AWS - EC2 Container Service
7. Demo
8. Conclusions
---
# 1. Introduction
## Histoire de Docker
  - 2013 - Une interface à LXC, un chroot sous stéroïds
  - 2014 - Solution qui résout un problème que l'on cherche encore
  - 2015 - Plate-forme ouverte d'applications distribuées pour les développeurs et sysadmins

## Paradigme inspiré de la technologie
  - L'imagination humaine est le seul frein (Docker == VM)
  - On aime Docker, on veut l'utiliser

---
# 2. Speakers
## Souhail Hanfi
  - AWS Expert
  - Software and System Architect
  - [@venomax666](https://twitter.com/venomax666)

## Yann Coleu
  - DevOps Expert
  - Golang and Docker ![](https://cdn0.iconfinder.com/data/icons/small-n-flat/24/678087-heart-16.png)
  - [@YannColeu](https://twitter.com/YannColeu)

---
class: center, middle
# 3. Docker

---
# 3. Docker
## C'est quoi un conteneur?
  - Un processus système, un simple fork
  - Confiné grâce au noyau
  - Un conteneur peut avoir accès à:
    - Un système de fichier
    - Réseau
    - CPU
    - Mémoire
  - Ca ressemble à une VM, ça à l'odeur d'une VM...


Ce n'est **PAS** une VM !

---
# 3. Docker
## Différence conteneur vs VM

![](https://raw.githubusercontent.com/skale-5/slides/master/12-11-2015-Docker-AWS-Microservices/images/vm-vs-docker.png)

---
# 3. Docker
## Concepts de confinement et sécurité
Dans le noyau Linux, il y a quelques concepts de confinement:

  - Les **namespaces** donne **accès** aux ressources
  - Les **CGroups restreignent** la consommation de ces dernières
  - SELinux et AppArmor définissent un politique de sécurité d'accès des processus
    - [Bane](https://github.com/jfrazelle/bane)
  - Seccomp limite les appels noyaux

---
# 3. Docker
## Systèmes de fichier
  - Un conteneur vient avec son filesystem (Image)
  - Système de fichiers en oignons (AUFS, BTRFS, [OverlayFS](https://docs.docker.com/engine/userguide/storagedriver/overlayfs-driver/))

![dockerfs](https://raw.githubusercontent.com/skale-5/slides/master/12-11-2015-Docker-AWS-Microservices/images/docker-fs.png)

---
# 3. Docker
## Docker engine, docker clients
  - Le Docker engine est un démon qui gère les conteneurs locaux et l'enviromment d'exécution
  - Controlé uniquement via une API REST
  - Les clients peuvent donc prendre plusieurs formes:
    - CLI
    - UI
    - WebUI
    - Orchestrateur de cluster Docker (Swarm, Kubernetes, AWS ECS)

---
# 3. Docker
## Avantages
Tous ces concepts autour de Docker apportent des avantages certains:

  - Processus donc "boot instantané"
  - OnionFS donc Gain de place + boot instantané pour les nouveaux conteneurs
  - Plate-forme centralisée de partage d'images Docker: [Hub](https://hub.docker.com/)
  - Services déjà packagés (Mongo, Redis, Apache, Owncloud)
  - Sécurité possible (mais pas par défaut)
  - Gestion du réseau automatique

## Dev ![](https://cdn0.iconfinder.com/data/icons/small-n-flat/24/678087-heart-16.png) Ops
---
# 3. Docker
## Ecosystème officiel

- Compose
  ```
  web:
  build: .
  ports:
   - "5000:5000"
  links:
   - redis
  redis:
    image: redis
  ```

---
# 3. Docker
## Ecosystème officiel

- Swarm
```
web:
build: .
ports:
 - "5000:5000"
links:
 - redis
redis:
  image: redis
```

---
class: center, middle
# 4. Microservices

---
# 4. Microservices

---
# 5. Demo

---
# 6. AWS - EC2 Container Service

---
# 7. Demo

---
# 8. Conclusions

    </textarea>
    <script src="https://gnab.github.io/remark/downloads/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>
